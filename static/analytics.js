// Better Analytics - Privacy-focused, cookieless analytics
!function(){var e=document.currentScript||document.querySelector('script[src*="analytics.js"]'),t=e.getAttribute("data-site-id");if(!t)return console.error("Better Analytics: data-site-id attribute missing");var n=function(){var e=window.location.href,n=document.referrer||null,r=navigator.userAgent,i=window.screen.width+"x"+window.screen.height,o=function(e){for(var n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return Math.abs(n).toString(16)}(r+i);fetch("/track",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_id:t,url:e,referrer:n,user_agent:r,screen_resolution:i,visitor_id:o})}).catch(function(e){console.error("Analytics tracking failed:",e)})};n(),document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"&&n()})}(); 